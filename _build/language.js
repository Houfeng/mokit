/*csd*/define(function(require,exports,module){"use strict";var e=require("./utils"),d=require("./store"),b=require("./event");var c=d.dataCache["$language"]={};exports.languageChange=b.create(exports,"languagechange");e.defineProperty(exports,"currentName",{get:function(){return d.local.get("language:current-name");},set:function(f){return d.local.set("language:current-name",f);}},true);var a=null;e.defineProperty(exports,"current",{get:function(){return a;},set:function(f){return a=f;}},true);exports.addLanguage=function(f,g){e.each(f,function(h){c[h]=(g&&g.resovleUri)?g.resovleUri(this):this;});};exports.setLanguage=function(h,f){if(!e.isString(h)){return;}var g=c[h];if(g){require(g,function(i){exports.current(i);exports.currentName(h);exports.languageChange.trigger(h,i);if(f){f(h,i);}});}else{console.error('language "'+h+'" not found.');}};});