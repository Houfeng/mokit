/*csd*/define(function(require,exports,module){"use strict";var c=require("./event");var h=require("./utils");exports.change=c.create(exports,"change");window.hashChange=c.create(window,"hashchange");var e=function(){var l=d();var i=a.length-2;var k=a.length-1;var j=(a[i]==l);if(j){a.pop();}else{if(a[k]!=l){a.push(l);}}exports.change.trigger(l,j,a.length);};var a=[d()];exports.history=function(){return a;};window.__history=a;function d(){if(location.hash){return location.hash.split("#")[1];}return null;}exports.getUri=d;function g(j,i){if(j==d()){return;}if(j&&j!=""){location.hash="#"+j;}else{location.hash=null;}}exports.setUri=g;function b(){var i=a.length-2;if(a[i]){g(a[i]);}}exports.back=b;function f(){a=[d()];}exports.reset=f;window.hashChange.bind(e);});