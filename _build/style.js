/*csd*/define(function(require,exports,module){"use strict";var a=require("./jquery"),e=require("./utils"),c=require("./store"),b=require("./event");var d=c.dataCache["$style"]={};exports.styleChange=b.create(exports,"styleChange");e.defineProperty(exports,"currentName",{get:function(){return c.local.get("style:current-name");},set:function(f){return c.local.set("style:current-name",f);}},true);exports.addStyle=function(g,f){e.each(g,function(h){d[h]=(f&&f.resovleUri)?f.resovleUri(this):this;});};exports.setStyle=function(g,f){if(!e.isString(g)){return;}if(d[g]){var h=e.wrapUrl(d[g].split("?")[0].split("#")[0]);require(h,function(i){e.async(function(){module.unrequire(d[exports.currentName()]);exports.currentName(g);d[g]=h;exports.styleChange.trigger(g,i);if(f){f(g,i);}});});}else{console.error('style "'+g+'" not found.');}};});