/*csd*/define(function(require,exports,module){"use strict";var a=require("./jquery"),n=require("./style.css"),j=require("./modernizr"),p=require("./utils"),i=require("./mask");var o=j.cssanimations,f=false,g=false;var e={"WebkitAnimation":"webkitAnimationEnd","OAnimation":"oAnimationEnd","msAnimation":"MSAnimationEnd","animation":"animationend"};var d=e[j.prefixed("animation")];var c=false;exports.isAnimating=function(){return c;};var l=function(q,r){if(q){q.attr("class",q.data("originalClassList"));}if(r){r.attr("class",r.data("originalClassList")+" ui-view-current");}};var m=function(q,r){if(q){q.data("originalClassList",q.attr("class")||"");}if(r){r.data("originalClassList",r.attr("class")||"");}};var k=function(r,s,q){f=false;g=false;l(r,s);if(q){q();}};var h=function(q){var s,r;switch(q){case 1:s="ui-view-moveToLeft";r="ui-view-moveFromRight";break;case 2:s="ui-view-moveToRight";r="ui-view-moveFromLeft";break;case 3:s="ui-view-moveToTop";r="ui-view-moveFromBottom";break;case 4:s="ui-view-moveToBottom";r="ui-view-moveFromTop";break;case 5:s="ui-view-fade";r="ui-view-moveFromRight ui-view-ontop";break;case 6:s="ui-view-fade";r="ui-view-moveFromLeft ui-view-ontop";break;case 7:s="ui-view-fade";r="ui-view-moveFromBottom ui-view-ontop";break;case 8:s="ui-view-fade";r="ui-view-moveFromTop ui-view-ontop";break;case 9:s="ui-view-moveToLeftFade";r="ui-view-moveFromRightFade";break;case 10:s="ui-view-moveToRightFade";r="ui-view-moveFromLeftFade";break;case 11:s="ui-view-moveToTopFade";r="ui-view-moveFromBottomFade";break;case 12:s="ui-view-moveToBottomFade";r="ui-view-moveFromTopFade";break;case 13:s="ui-view-moveToLeftEasing ui-view-ontop";r="ui-view-moveFromRight";break;case 14:s="ui-view-moveToRightEasing ui-view-ontop";r="ui-view-moveFromLeft";break;case 15:s="ui-view-moveToTopEasing ui-view-ontop";r="ui-view-moveFromBottom";break;case 16:s="ui-view-moveToBottomEasing ui-view-ontop";r="ui-view-moveFromTop";break;case 17:s="ui-view-scaleDown";r="ui-view-moveFromRight ui-view-ontop";break;case 18:s="ui-view-scaleDown";r="ui-view-moveFromLeft ui-view-ontop";break;case 19:s="ui-view-scaleDown";r="ui-view-moveFromBottom ui-view-ontop";break;case 20:s="ui-view-scaleDown";r="ui-view-moveFromTop ui-view-ontop";break;case 21:s="ui-view-scaleDown";r="ui-view-scaleUpDown ui-view-delay300";break;case 22:s="ui-view-scaleDownUp";r="ui-view-scaleUp ui-view-delay300";break;case 23:s="ui-view-moveToLeft ui-view-ontop";r="ui-view-scaleUp";break;case 24:s="ui-view-moveToRight ui-view-ontop";r="ui-view-scaleUp";break;case 25:s="ui-view-moveToTop ui-view-ontop";r="ui-view-scaleUp";break;case 26:s="ui-view-moveToBottom ui-view-ontop";r="ui-view-scaleUp";break;case 27:s="ui-view-scaleDownCenter";r="ui-view-scaleUpCenter ui-view-delay400";break;case 28:s="ui-view-rotateRightSideFirst";r="ui-view-moveFromRight ui-view-delay200 ui-view-ontop";break;case 29:s="ui-view-rotateLeftSideFirst";r="ui-view-moveFromLeft ui-view-delay200 ui-view-ontop";break;case 30:s="ui-view-rotateTopSideFirst";r="ui-view-moveFromTop ui-view-delay200 ui-view-ontop";break;case 31:s="ui-view-rotateBottomSideFirst";r="ui-view-moveFromBottom ui-view-delay200 ui-view-ontop";break;case 32:s="ui-view-flipOutRight";r="ui-view-flipInLeft ui-view-delay500";break;case 33:s="ui-view-flipOutLeft";r="ui-view-flipInRight ui-view-delay500";break;case 34:s="ui-view-flipOutTop";r="ui-view-flipInBottom ui-view-delay500";break;case 35:s="ui-view-flipOutBottom";r="ui-view-flipInTop ui-view-delay500";break;case 36:s="ui-view-rotateFall ui-view-ontop";r="ui-view-scaleUp";break;case 37:s="ui-view-rotateOutNewspaper";r="ui-view-rotateInNewspaper ui-view-delay500";break;case 38:s="ui-view-rotatePushLeft";r="ui-view-moveFromRight";break;case 39:s="ui-view-rotatePushRight";r="ui-view-moveFromLeft";break;case 40:s="ui-view-rotatePushTop";r="ui-view-moveFromBottom";break;case 41:s="ui-view-rotatePushBottom";r="ui-view-moveFromTop";break;case 42:s="ui-view-rotatePushLeft";r="ui-view-rotatePullRight ui-view-delay180";break;case 43:s="ui-view-rotatePushRight";r="ui-view-rotatePullLeft ui-view-delay180";break;case 44:s="ui-view-rotatePushTop";r="ui-view-rotatePullBottom ui-view-delay180";break;case 45:s="ui-view-rotatePushBottom";r="ui-view-rotatePullTop ui-view-delay180";break;case 46:s="ui-view-rotateFoldLeft";r="ui-view-moveFromRightFade";break;case 47:s="ui-view-rotateFoldRight";r="ui-view-moveFromLeftFade";break;case 48:s="ui-view-rotateFoldTop";r="ui-view-moveFromBottomFade";break;case 49:s="ui-view-rotateFoldBottom";r="ui-view-moveFromTopFade";break;case 50:s="ui-view-moveToRightFade";r="ui-view-rotateUnfoldLeft";break;case 51:s="ui-view-moveToLeftFade";r="ui-view-rotateUnfoldRight";break;case 52:s="ui-view-moveToBottomFade";r="ui-view-rotateUnfoldTop";break;case 53:s="ui-view-moveToTopFade";r="ui-view-rotateUnfoldBottom";break;case 54:s="ui-view-rotateRoomLeftOut ui-view-ontop";r="ui-view-rotateRoomLeftIn";break;case 55:s="ui-view-rotateRoomRightOut ui-view-ontop";r="ui-view-rotateRoomRightIn";break;case 56:s="ui-view-rotateRoomTopOut ui-view-ontop";r="ui-view-rotateRoomTopIn";break;case 57:s="ui-view-rotateRoomBottomOut ui-view-ontop";r="ui-view-rotateRoomBottomIn";break;case 58:s="ui-view-rotateCubeLeftOut ui-view-ontop";r="ui-view-rotateCubeLeftIn";break;case 59:s="ui-view-rotateCubeRightOut ui-view-ontop";r="ui-view-rotateCubeRightIn";break;case 60:s="ui-view-rotateCubeTopOut ui-view-ontop";r="ui-view-rotateCubeTopIn";break;case 61:s="ui-view-rotateCubeBottomOut ui-view-ontop";r="ui-view-rotateCubeBottomIn";break;case 62:s="ui-view-rotateCarouselLeftOut ui-view-ontop";r="ui-view-rotateCarouselLeftIn";break;case 63:s="ui-view-rotateCarouselRightOut ui-view-ontop";r="ui-view-rotateCarouselRightIn";break;case 64:s="ui-view-rotateCarouselTopOut ui-view-ontop";r="ui-view-rotateCarouselTopIn";break;case 65:s="ui-view-rotateCarouselBottomOut ui-view-ontop";r="ui-view-rotateCarouselBottomIn";break;case 66:s="ui-view-rotateSidesOut";r="ui-view-rotateSidesIn ui-view-delay200";break;case 67:s="ui-view-rotateSlideOut";r="ui-view-rotateSlideIn";break;}return{"inClass":r,"outClass":s};};var b=function(t,u,q,s){if(!t||!u||!q||q==0){setTimeout(function(){k(null,null,s);},13);return;}m(t,u);u.addClass("ui-view-current");var r=h(q);t.addClass(r.outClass).on(d,function(){t.off(d);f=true;if(g){k(t,u,s);}});u.addClass(r.inClass).on(d,function(){u.off(d);g=true;if(f){k(t,u,s);}});if(!o){k(t,u,s);}};exports.change=function(s,t,q,r,u){if(c){return;}c=true;i.begin(u);s=s.ui||s;t=t.ui||t;b(s,t,q,function(){i.end(u);if(r){r();}c=false;});};});