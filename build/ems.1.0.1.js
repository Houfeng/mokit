/*csd*//**
 *
 * EMS(IMP) v1.0.0
 * Easy Module System: 简洁、易用的模块系统
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/ems
 *
 * ems 全称为 "Easy Module System" 他还有一个别名叫: "imp";
 * ems 作为 "EMD" 的实现标准范本; 完全符合 "EMD规范";
 *
 **/
 (function(E){function x(N){return(N===null)||(typeof N==="undefined");}function w(N){return(N instanceof Array)||(N&&N.length&&N[0]);}function n(Q,N){if(!Q||!N){return;}if(w(Q)){var R=Q.length;for(var O=0;O<R;O++){if(x(Q[O])){continue;}var S=N.call(Q[O],O,Q[O]);if(!x(S)){return S;}}}else{for(var P in Q){if(x(Q[P])){continue;}var T=N.call(Q[P],P,Q[P]);if(!x(T)){return T;}}}}function J(N,O){return N&&O&&N.indexOf(O)===0;}function h(N,O){return N&&O&&N.indexOf(O)>-1;}function G(N,O,P){if(x(N)){return N;}return N.replace(new RegExp(O,"g"),P);}function j(O){var N=document.createElement("script");N.src=O;N.async=true;N.defer=true;N.type="text/javascript";return N;}function k(O){var N=document.createElement("link");N.href=O;N.type="text/css";N.rel="stylesheet";return N;}function t(){return document.getElementsByTagName("script");}function r(){var N=t();return n(N,function(){return this.getAttribute("data-main");});}function q(){var N=t();return n(N,function(){if(this.readyState==="interactive"){return this;}});}var o=null;function e(N){if(!o){o=document.getElementsByTagName("head");o=o&&o[0]?o[0]:document.body;o=o||o.parent;}o.appendChild(N);}function f(N,P,O){if(N.addEventListener){N.addEventListener(P,O);}else{if(N.attachEvent){N.attachEvent("on"+P,O);}}}function g(N,O){if(!N||!O){return;}if((typeof HTMLLinkElement!=="undefined")&&(N instanceof HTMLLinkElement)){O.apply(N,[{}]);return;}var P=N.attachEvent?"readystatechange":"load";f(N,P,function(){var Q=N.readyState||"loaded";if(Q=="loaded"||Q=="interactive"||Q=="complete"){O.apply(N,arguments||[]);}});}var D={"require":{loaded:true,exports:"require"},"exports":{loaded:true,exports:"exports"},"module":{loaded:true,exports:"module"}};function I(O,N){if(!D[O]){return;}D[O].loading=true;D[O].deps=N.moduleDeps;D[O].declare=N.moduleDeclare;D[O].declareDeps=N.declareDeps;N=null;D[O].require(D[O].deps,function(){var P=arguments;setTimeout(function(){D[O].require(D[O].declareDeps,function(){setTimeout(function(){if(D[O].declare){var Q=[];for(var R=0;R<P.length;R++){if(P[R]=="require"){P[R]=D[O].require;}if(P[R]=="exports"){P[R]=D[O].exports;}if(P[R]=="module"){P[R]=D[O];}Q.push(P[R]);}Q.push(D[O].require);Q.push(D[O].exports);Q.push(D[O]);var S=D[O].declare.apply(D[O],Q);D[O].exports=S||D[O].exports;}n(D[O].loadCallbacks,function(){this(D[O].exports);});if(E.onLoad){E.onLoad(D[O]);}D[O].loaded=true;D[O].loadCallbacks=null;},0);});},0);});}function a(O,N){if(x(D[O])){D[O]=new C(O);}if(D[O].loaded&&N){N(D[O].exports);return D[O].exports;}if(!x(D[O].loadCallbacks)){D[O].loadCallbacks.push(N);return;}D[O].loadCallbacks=[];D[O].loadCallbacks.push(N);D[O].element=h(O,".css")?k(O):j(O);g(D[O].element,function(){if(!D[O].loaded&&!D[O].loading){var P=l.shift()||{};I(O,P);}});e(D[O].element);}function z(Q,N){if(!h(Q,"!")){return a(Q,N);}else{var P=Q.lastIndexOf("!");var R=Q.substring(0,P);var S=Q.substring(P+1);if(D[S]&&D[S].loaded){var O=D[S].exports;if(N){N(O);}return O;}return z(R,function(U){if(!U||!U.load){return;}var T=function(V){D[S]={exports:V,loaded:true};if(N){N(V);}};T.fromText=T;T.error=T;U.load(S,D[R].require,T,E.config());});}}E.load=function(P,O,N){var S=m(P,N);var Q=[];var R=0;if(S&&S.length>0){n(S,function(T,U){z(U,function(){R+=1;if(R<S.length){return;}Q=s(S)||Q;if(O){O.apply(Q,Q);}});});}else{if(O){O.apply(Q,Q);}}return Q&&Q.length==1?Q[0]:Q;};E.unload=function(O,N){var P=m(O,N);n(P,function(Q,R){if(D[R]){D[R].element.parentNode.removeChild(D[R].element);D[R].exports=null;D[R].loading=null;D[R].deps=null;D[R].declare=null;D[R].declareDeps=null;D[R].element=null;D[R]=null;}});};function s(O){var N=[];n(O,function(P,Q){var R=Q.split("!")[1];if(Q!==null&&D[Q]){N.push(D[Q].exports);}if(!x(R)&&D[R]){N.push(D[R].exports);}});return N;}function y(N){return(N=="require"||N=="exports"||N=="module");}function L(P){if(J(P,"http://")||J(P,"https://")||J(P,"file://")){return true;}else{var N=/^\S+?:\//ig;var O=/^\S+?:\\/ig;return N.test(P)||O.test(P);}}function K(N){return J(N,"/")||J(N,"\\");}function c(Q,O){if(x(Q)||x(O)||L(Q)||K(Q)||y(Q)){return Q;}Q=G(Q,"\\\\","/");O=G(O,"\\\\","/");O=O.split("?")[0].split("#")[0];var N=O.substring(0,O.lastIndexOf("/"));var S=Q.split("#")[0].split("/");var R=Q.split("#")[1];var P=N.length>0?N.split("/"):[];n(S,function(T,U){if(U==".."){P.pop();}else{if(U=="."){}else{P.push(U);}}});return P.join("/")+(R?"#"+R:"");}function H(N,O,P){if(x(N)||x(O)){return N;}var R=N.split("!");var Q=[];n(R,function(S,T){var U=d[T]||T;U=v(U);U=c(U,O);if(!P){U=u(U);}Q.push(U);});return Q.join("!");}function u(O){if(y(O)){return O;}var N=O.substring(O.lastIndexOf("/")+1,O.length);if(!x(O)&&!x(N)&&O!==""&&!h(O,"?")&&!h(O,"#")&&N!==""&&!h(N,".")){O+=(p||".js");}return O;}function v(Q){var N=Q.indexOf("/");if(N<0){N=Q.length;}var O=Q.substr(0,N);var P=Q.substr(N+1,Q.length);n(F,function(R,S){if(O==S.name){O=S.location||O;P=P||S.main||"";if(O[O.length-1]=="/"){O=O.substring(0,O.lastIndexOf("/"));}if(P[0]=="/"){P=P.substring(1,P.length);}Q=O+"/"+P;}});return Q;}function M(N){if(x(N)){return[];}if((typeof N)=="string"){N=[N];}return N;}function m(P,O){O=O||location.href;P=M(P);var N=[];n(P,function(R,Q){var S=H(Q,O);N.push(S);});return N;}function C(P){var O=this;var N=O.uri=O.id=P||"/";O.resovleUri=function(Q,R,S){return H(Q,R||N,S);};O.require=function(R,Q){return E.load(R,Q,P);};O.unrequire=function(Q){return E.unload(Q,P);};O.require.toUrl=O.require.resovleUri=function(Q,R,S){return O.resovleUri(Q,R,S);};O.require.defined=function(Q){return D[Q].loaded;};O.require.specified=function(Q){return D[Q].loaded||!x(D[Q].loadCallbacks);};this.exports={};this.declare=null;this.deps=null;this.loaded=false;}var l=[];function i(P,O,N){var Q=null;if(O&&N){Q={moduleDeps:O,moduleDeclare:N};}else{if(P&&O){Q={moduleDeps:P,moduleDeclare:O};}else{if(P&&N){Q={moduleDeps:O,moduleDeclare:N};}else{if(P){Q={moduleDeclare:P};}}}}return Q;}function B(Q){Q=Q.replace(/\/\*[\w\W]*?\*\//gm,";").replace(/^\/\/.*/gi,";");var P=[];var O=/require\s*\(\s*[\"|\'](.+?)[\"|\']\s*\)\s*[;|,|\n|\}|\{|\[|\]|\.]/gm;var N=null;while(N=O.exec(Q)){if(N&&N[1]&&!h(N[1],'"')&&!h(N[1],"'")){P.push(N[1]);}}return P;}E.define=function(P,O,N){var Q=i(P,O,N);if(Q){if(typeof Q.moduleDeclare!="function"){var T=Q.moduleDeclare;Q.moduleDeclare=function(){return T;};}var R=B(Q.moduleDeclare.toString());if(R&&R.length>0){Q.declareDeps=R;}var S=q();if(S){var U=S.getAttribute("src");I(U,Q);}else{l.push(Q);}}};E.config=function(N){if(N===null){return b;}N=N||{};N.alias=N.alias||N.paths||{};n(N.alias,function(O,P){d[O]=P;});N.packages=N.packages||[];n(N.packages,function(O,P){P.name=P.name||O;F[P.name]=P;});p=p||N.extension;b=N;};var b={};var d={};var p=".js";var F={};E.resovleUri=function(O,N){return H(O,N||location.href);};E.alias=d;E.packages=F;E.modules=D;E.define.amd=E.define.emd=E.define.eamd={};if(window){window.define=E.define;}var A=r();if(!x(A)&&A!==""){E.load(A);}})(this.ems=this.imp={});