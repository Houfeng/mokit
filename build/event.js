/*csd*/(function(b){"use strict";var c=null;var a=function(d){d=d||{};if(d.$monitor){return d.$monitor;}var e=d.$monitor={$monitor:e,target:d};e._addEvent=function(g,f,i){if(!c.isString(g)||!c.isFunction(f)){return;}var h=e.target;f.delegate=function(k){var j={originalEvent:k};j=c.copy(k,j);arguments[0]=j;var l=f.apply(h,arguments);if(l===false){if(k.cancelBubble){k.cancelBubble=true;}if(k.preventDefault){k.preventDefault();}if(k.stopPropagation){k.stopPropagation();}}};if(h.addEventListener){h.addEventListener(g,f.delegate,i);}else{if(h.attachEvent){h.attachEvent("on"+g,f.delegate,i);}}return e;};e._removeEvent=function(h,g,j){if(!c.isString(h)){return;}var i=e.target;var f=g&&g.delegate?g.delegate:g;if(i.removeEventListener){i.removeEventListener(h,f,j);}else{if(i.detachEvent){i.detachEvent("on"+h,f,j);}}return e;};e._callEvent=function(j,h,f,g){if(!c.isString(j)){return;}var k=e.target;if(k.dispatchEvent){var i=document.createEvent("HTMLEvents");i.initEvent(j,f,g);c.copy(h,i);i.target=k;k.dispatchEvent(i);}else{if(k.fireEvent){var i=document.createEventObject();c.copy(h,i);i.target=k;k.fireEvent("on"+j,i);}}return e;};e._isNativeSupport=function(f){if(c.isNull(f)){return false;}return c.isFunction(f.addEventListener)||c.isFunction(f.attachEvent);};e.on=function(g,f){if(!c.isString(g)||!c.isFunction(f)){return;}e.lists=e.lists||{};e.lists[g]=e.lists[g]||[];e.lists[g].push(f);e._addEvent(g,f,false);if(c.isFunction(a.callers[g])){a.callers[g](e,f,false);}return e;};e.off=function(h,f){if(!c.isString(h)){return;}e.lists=e.lists||{};if(e.lists[h]){var i=[];var g=e.lists[h];c.each(g,function(j,k){if(!c.isNull(f)&&k!==f){i.push(k);}else{e._removeEvent(h,f,false);}});e.lists[h]=i;}return e;};e.call=function(h,f){if(!c.isString(h)){return;}var i=e.target;if(e._isNativeSupport(i)){e._callEvent(h,f);return e;}e.lists=e.lists||{};if(e.lists[h]){var g=e.lists[h];c.each(g,function(j,k){if(!c.isFunction(k)){return;}k.apply(e.target,[f]);});}return e;};return e;};a.use=function(d){d=d||{};var e=a(d);d.on=function(){e.on.apply(e,arguments);return d;};d.off=function(){e.off.apply(e,arguments);return d;};d.call=function(){e.call.apply(e,arguments);return d;};return e;};a.callers={};a.register=function(e,d){if(!e){return;}e=e.split(",");c.each(e,function(f,g){a.callers[g]=d;});};if(typeof define==="function"&&define.amd){define("$event",["utils"],function(d){c=d;return a;});}else{c=b.$utils;b.$event=a;}})((typeof exports==="undefined")?this:exports);