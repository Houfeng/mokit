/*csd*//*
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(E,d){var p=Math,e=d.createElement("div").style,D=(function(){var H="t,webkitT,MozT,msT,OT".split(","),G,m=0,F=H.length;for(;m<F;m++){G=H[m]+"ransform";if(G in e){return H[m].substr(0,H[m].length-1);}}return false;})(),c=D?"-"+D.toLowerCase()+"-":"",v=s("transform"),z=s("transitionProperty"),y=s("transitionDuration"),w=s("transformOrigin"),A=s("transitionTimingFunction"),x=s("transitionDelay"),k=(/android/gi).test(navigator.appVersion),n=(/iphone|ipad/gi).test(navigator.appVersion),o=(/hp-tablet/gi).test(navigator.appVersion),g=s("perspective") in e,h="ontouchstart" in E&&!o,i=D!==false,j=s("transition") in e,t="onorientationchange" in E?"orientationchange":"resize",u=h?"touchstart":"mousedown",q=h?"touchmove":"mousemove",f=h?"touchend":"mouseup",a=h?"touchcancel":"mouseup",C=(function(){if(D===false){return false;}var m={"":"transitionend","webkit":"webkitTransitionEnd","Moz":"transitionend","O":"otransitionend","ms":"MSTransitionEnd"};return m[D];})(),r=(function(){return E.requestAnimationFrame||E.webkitRequestAnimationFrame||E.mozRequestAnimationFrame||E.oRequestAnimationFrame||E.msRequestAnimationFrame||function(m){return setTimeout(m,1);};})(),b=(function(){return E.cancelRequestAnimationFrame||E.webkitCancelAnimationFrame||E.webkitCancelRequestAnimationFrame||E.mozCancelRequestAnimationFrame||E.oCancelRequestAnimationFrame||E.msCancelRequestAnimationFrame||clearTimeout;})(),B=g?" translateZ(0)":"",l=function(m,G){var H=this,F;H.wrapper=typeof m=="object"?m:d.getElementById(m);H.wrapper.style.overflow="hidden";H.scroller=H.wrapper.children[0];H.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:k,hideScrollbar:n,fadeScrollbar:n&&g,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(I){I.preventDefault();},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(F in G){H.options[F]=G[F];}H.x=H.options.x;H.y=H.options.y;H.options.useTransform=i&&H.options.useTransform;H.options.hScrollbar=H.options.hScroll&&H.options.hScrollbar;H.options.vScrollbar=H.options.vScroll&&H.options.vScrollbar;H.options.zoom=H.options.useTransform&&H.options.zoom;H.options.useTransition=j&&H.options.useTransition;if(H.options.zoom&&k){B="";}H.scroller.style[z]=H.options.useTransform?c+"transform":"top left";H.scroller.style[y]="0";H.scroller.style[w]="0 0";if(H.options.useTransition){H.scroller.style[A]="cubic-bezier(0.33,0.66,0.66,1)";}if(H.options.useTransform){H.scroller.style[v]="translate("+H.x+"px,"+H.y+"px)"+B;}else{H.scroller.style.cssText+=";position:absolute;top:"+H.y+"px;left:"+H.x+"px";}if(H.options.useTransition){H.options.fixedScrollbar=true;}H.refresh();H._bind(t,E);H._bind(u);if(!h){if(H.options.wheelAction!="none"){H._bind("DOMMouseScroll");H._bind("mousewheel");}}if(H.options.checkDOMChanges){H.checkDOMTime=setInterval(function(){H._checkDOMChanges();},500);}};l.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(m){var F=this;switch(m.type){case u:if(!h&&m.button!==0){return;}F._start(m);break;case q:F._move(m);break;case f:case a:F._end(m);break;case t:F._resize();break;case"DOMMouseScroll":case"mousewheel":F._wheel(m);break;case C:F._transitionEnd(m);break;}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)){return;}this.refresh();},_scrollbar:function(F){var G=this,m;if(!G[F+"Scrollbar"]){if(G[F+"ScrollbarWrapper"]){if(i){G[F+"ScrollbarIndicator"].style[v]="";}G[F+"ScrollbarWrapper"].parentNode.removeChild(G[F+"ScrollbarWrapper"]);G[F+"ScrollbarWrapper"]=null;G[F+"ScrollbarIndicator"]=null;}return;}if(!G[F+"ScrollbarWrapper"]){m=d.createElement("div");if(G.options.scrollbarClass){m.className=G.options.scrollbarClass+F.toUpperCase();}else{m.style.cssText="position:absolute;z-index:100;"+(F=="h"?"height:7px;bottom:1px;left:2px;right:"+(G.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(G.hScrollbar?"7":"2")+"px;top:2px;right:1px");}m.style.cssText+=";pointer-events:none;"+c+"transition-property:opacity;"+c+"transition-duration:"+(G.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(G.options.hideScrollbar?"0":"1");G.wrapper.appendChild(m);G[F+"ScrollbarWrapper"]=m;m=d.createElement("div");if(!G.options.scrollbarClass){m.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+c+"background-clip:padding-box;"+c+"box-sizing:border-box;"+(F=="h"?"height:100%":"width:100%")+";"+c+"border-radius:3px;border-radius:3px";}m.style.cssText+=";pointer-events:none;"+c+"transition-property:"+c+"transform;"+c+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+c+"transition-duration:0;"+c+"transform: translate(0,0)"+B;if(G.options.useTransition){m.style.cssText+=";"+c+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";}G[F+"ScrollbarWrapper"].appendChild(m);G[F+"ScrollbarIndicator"]=m;}if(F=="h"){G.hScrollbarSize=G.hScrollbarWrapper.clientWidth;G.hScrollbarIndicatorSize=p.max(p.round(G.hScrollbarSize*G.hScrollbarSize/G.scrollerW),8);G.hScrollbarIndicator.style.width=G.hScrollbarIndicatorSize+"px";G.hScrollbarMaxScroll=G.hScrollbarSize-G.hScrollbarIndicatorSize;G.hScrollbarProp=G.hScrollbarMaxScroll/G.maxScrollX;}else{G.vScrollbarSize=G.vScrollbarWrapper.clientHeight;G.vScrollbarIndicatorSize=p.max(p.round(G.vScrollbarSize*G.vScrollbarSize/G.scrollerH),8);G.vScrollbarIndicator.style.height=G.vScrollbarIndicatorSize+"px";G.vScrollbarMaxScroll=G.vScrollbarSize-G.vScrollbarIndicatorSize;G.vScrollbarProp=G.vScrollbarMaxScroll/G.maxScrollY;}G._scrollbarPos(F,true);},_resize:function(){var m=this;setTimeout(function(){m.refresh();},k?200:0);},_pos:function(m,F){if(this.zoomed){return;}m=this.hScroll?m:0;F=this.vScroll?F:0;if(this.options.useTransform){this.scroller.style[v]="translate("+m+"px,"+F+"px) scale("+this.scale+")"+B;}else{m=p.round(m);F=p.round(F);this.scroller.style.left=m+"px";this.scroller.style.top=F+"px";}this.x=m;this.y=F;this._scrollbarPos("h");this._scrollbarPos("v");},_scrollbarPos:function(m,F){var I=this,G=m=="h"?I.x:I.y,H;if(!I[m+"Scrollbar"]){return;}G=I[m+"ScrollbarProp"]*G;if(G<0){if(!I.options.fixedScrollbar){H=I[m+"ScrollbarIndicatorSize"]+p.round(G*3);if(H<8){H=8;}I[m+"ScrollbarIndicator"].style[m=="h"?"width":"height"]=H+"px";}G=0;}else{if(G>I[m+"ScrollbarMaxScroll"]){if(!I.options.fixedScrollbar){H=I[m+"ScrollbarIndicatorSize"]-p.round((G-I[m+"ScrollbarMaxScroll"])*3);if(H<8){H=8;}I[m+"ScrollbarIndicator"].style[m=="h"?"width":"height"]=H+"px";G=I[m+"ScrollbarMaxScroll"]+(I[m+"ScrollbarIndicatorSize"]-H);}else{G=I[m+"ScrollbarMaxScroll"];}}}I[m+"ScrollbarWrapper"].style[x]="0";I[m+"ScrollbarWrapper"].style.opacity=F&&I.options.hideScrollbar?"0":"1";I[m+"ScrollbarIndicator"].style[v]="translate("+(m=="h"?G+"px,0)":"0,"+G+"px)")+B;},_start:function(G){var J=this,I=h?G.touches[0]:G,H,K,L,m,F;if(!J.enabled){return;}if(J.options.onBeforeScrollStart){J.options.onBeforeScrollStart.call(J,G);}if(J.options.useTransition||J.options.zoom){J._transitionTime(0);}J.moved=false;J.animating=false;J.zoomed=false;J.distX=0;J.distY=0;J.absDistX=0;J.absDistY=0;J.dirX=0;J.dirY=0;if(J.options.zoom&&h&&G.touches.length>1){m=p.abs(G.touches[0].pageX-G.touches[1].pageX);F=p.abs(G.touches[0].pageY-G.touches[1].pageY);J.touchesDistStart=p.sqrt(m*m+F*F);J.originX=p.abs(G.touches[0].pageX+G.touches[1].pageX-J.wrapperOffsetLeft*2)/2-J.x;J.originY=p.abs(G.touches[0].pageY+G.touches[1].pageY-J.wrapperOffsetTop*2)/2-J.y;if(J.options.onZoomStart){J.options.onZoomStart.call(J,G);}}if(J.options.momentum){if(J.options.useTransform){H=getComputedStyle(J.scroller,null)[v].replace(/[^0-9\-.,]/g,"").split(",");K=+(H[12]||H[4]);L=+(H[13]||H[5]);}else{K=+getComputedStyle(J.scroller,null).left.replace(/[^0-9-]/g,"");L=+getComputedStyle(J.scroller,null).top.replace(/[^0-9-]/g,"");}if(K!=J.x||L!=J.y){if(J.options.useTransition){J._unbind(C);}else{b(J.aniTime);}J.steps=[];J._pos(K,L);if(J.options.onScrollEnd){J.options.onScrollEnd.call(J);}}}J.absStartX=J.x;J.absStartY=J.y;J.startX=J.x;J.startY=J.y;J.pointX=I.pageX;J.pointY=I.pageY;J.startTime=G.timeStamp||Date.now();if(J.options.onScrollStart){J.options.onScrollStart.call(J,G);}J._bind(q,E);J._bind(f,E);J._bind(a,E);},_move:function(I){var N=this,L=h?I.touches[0]:I,G=L.pageX-N.pointX,H=L.pageY-N.pointY,J=N.x+G,K=N.y+H,m,F,M,O=I.timeStamp||Date.now();if(N.options.onBeforeScrollMove){N.options.onBeforeScrollMove.call(N,I);}if(N.options.zoom&&h&&I.touches.length>1){m=p.abs(I.touches[0].pageX-I.touches[1].pageX);F=p.abs(I.touches[0].pageY-I.touches[1].pageY);N.touchesDist=p.sqrt(m*m+F*F);N.zoomed=true;M=1/N.touchesDistStart*N.touchesDist*this.scale;if(M<N.options.zoomMin){M=0.5*N.options.zoomMin*Math.pow(2,M/N.options.zoomMin);}else{if(M>N.options.zoomMax){M=2*N.options.zoomMax*Math.pow(0.5,N.options.zoomMax/M);}}N.lastScale=M/this.scale;J=this.originX-this.originX*N.lastScale+this.x,K=this.originY-this.originY*N.lastScale+this.y;this.scroller.style[v]="translate("+J+"px,"+K+"px) scale("+M+")"+B;if(N.options.onZoom){N.options.onZoom.call(N,I);}return;}N.pointX=L.pageX;N.pointY=L.pageY;if(J>0||J<N.maxScrollX){J=N.options.bounce?N.x+(G/2):J>=0||N.maxScrollX>=0?0:N.maxScrollX;}if(K>N.minScrollY||K<N.maxScrollY){K=N.options.bounce?N.y+(H/2):K>=N.minScrollY||N.maxScrollY>=0?N.minScrollY:N.maxScrollY;}N.distX+=G;N.distY+=H;N.absDistX=p.abs(N.distX);N.absDistY=p.abs(N.distY);if(N.absDistX<6&&N.absDistY<6){return;}if(N.options.lockDirection){if(N.absDistX>N.absDistY+5){K=N.y;H=0;}else{if(N.absDistY>N.absDistX+5){J=N.x;G=0;}}}N.moved=true;N._pos(J,K);N.dirX=G>0?-1:G<0?1:0;N.dirY=H>0?-1:H<0?1:0;if(O-N.startTime>300){N.startTime=O;N.startX=N.x;N.startY=N.y;}if(N.options.onScrollMove){N.options.onScrollMove.call(N,I);}},_end:function(H){if(h&&H.touches.length!==0){return;}var S=this,O=h?H.changedTouches[0]:H,R,I,J={dist:0,time:0},K={dist:0,time:0},G=(H.timeStamp||Date.now())-S.startTime,M=S.x,N=S.y,m,F,L,Q,P;S._unbind(q,E);S._unbind(f,E);S._unbind(a,E);if(S.options.onBeforeScrollEnd){S.options.onBeforeScrollEnd.call(S,H);}if(S.zoomed){P=S.scale*S.lastScale;P=Math.max(S.options.zoomMin,P);P=Math.min(S.options.zoomMax,P);S.lastScale=P/S.scale;S.scale=P;S.x=S.originX-S.originX*S.lastScale+S.x;S.y=S.originY-S.originY*S.lastScale+S.y;S.scroller.style[y]="200ms";S.scroller.style[v]="translate("+S.x+"px,"+S.y+"px) scale("+S.scale+")"+B;S.zoomed=false;S.refresh();if(S.options.onZoomEnd){S.options.onZoomEnd.call(S,H);}return;}if(!S.moved){if(h){if(S.doubleTapTimer&&S.options.zoom){clearTimeout(S.doubleTapTimer);S.doubleTapTimer=null;if(S.options.onZoomStart){S.options.onZoomStart.call(S,H);}S.zoom(S.pointX,S.pointY,S.scale==1?S.options.doubleTapZoom:1);if(S.options.onZoomEnd){setTimeout(function(){S.options.onZoomEnd.call(S,H);},200);}}else{if(this.options.handleClick){S.doubleTapTimer=setTimeout(function(){S.doubleTapTimer=null;R=O.target;while(R.nodeType!=1){R=R.parentNode;}if(true||(R.tagName!="SELECT"&&R.tagName!="INPUT"&&R.tagName!="TEXTAREA")){I=d.createEvent("MouseEvents");I.initMouseEvent("click",true,true,H.view,1,O.screenX,O.screenY,O.clientX,O.clientY,H.ctrlKey,H.altKey,H.shiftKey,H.metaKey,0,null);I._fake=true;R.dispatchEvent(I);}},S.options.zoom?250:0);}}}S._resetPos(400);if(S.options.onTouchEnd){S.options.onTouchEnd.call(S,H);}return;}if(G<300&&S.options.momentum){J=M?S._momentum(M-S.startX,G,-S.x,S.scrollerW-S.wrapperW+S.x,S.options.bounce?S.wrapperW:0):J;K=N?S._momentum(N-S.startY,G,-S.y,(S.maxScrollY<0?S.scrollerH-S.wrapperH+S.y-S.minScrollY:0),S.options.bounce?S.wrapperH:0):K;M=S.x+J.dist;N=S.y+K.dist;if((S.x>0&&M>0)||(S.x<S.maxScrollX&&M<S.maxScrollX)){J={dist:0,time:0};}if((S.y>S.minScrollY&&N>S.minScrollY)||(S.y<S.maxScrollY&&N<S.maxScrollY)){K={dist:0,time:0};}}if(J.dist||K.dist){L=p.max(p.max(J.time,K.time),10);if(S.options.snap){m=M-S.absStartX;F=N-S.absStartY;if(p.abs(m)<S.options.snapThreshold&&p.abs(F)<S.options.snapThreshold){S.scrollTo(S.absStartX,S.absStartY,200);}else{Q=S._snap(M,N);M=Q.x;N=Q.y;L=p.max(Q.time,L);}}S.scrollTo(p.round(M),p.round(N),L);if(S.options.onTouchEnd){S.options.onTouchEnd.call(S,H);}return;}if(S.options.snap){m=M-S.absStartX;F=N-S.absStartY;if(p.abs(m)<S.options.snapThreshold&&p.abs(F)<S.options.snapThreshold){S.scrollTo(S.absStartX,S.absStartY,200);}else{Q=S._snap(S.x,S.y);if(Q.x!=S.x||Q.y!=S.y){S.scrollTo(Q.x,Q.y,Q.time);}}if(S.options.onTouchEnd){S.options.onTouchEnd.call(S,H);}return;}S._resetPos(200);if(S.options.onTouchEnd){S.options.onTouchEnd.call(S,H);}},_resetPos:function(H){var G=this,m=G.x>=0?0:G.x<G.maxScrollX?G.maxScrollX:G.x,F=G.y>=G.minScrollY||G.maxScrollY>0?G.minScrollY:G.y<G.maxScrollY?G.maxScrollY:G.y;if(m==G.x&&F==G.y){if(G.moved){G.moved=false;if(G.options.onScrollEnd){G.options.onScrollEnd.call(G);}}if(G.hScrollbar&&G.options.hideScrollbar){if(D=="webkit"){G.hScrollbarWrapper.style[x]="300ms";}G.hScrollbarWrapper.style.opacity="0";}if(G.vScrollbar&&G.options.hideScrollbar){if(D=="webkit"){G.vScrollbarWrapper.style[x]="300ms";}G.vScrollbarWrapper.style.opacity="0";}return;}G.scrollTo(m,F,H||0);},_wheel:function(H){var I=this,J,K,F,G,m;if("wheelDeltaX" in H){J=H.wheelDeltaX/12;K=H.wheelDeltaY/12;}else{if("wheelDelta" in H){J=K=H.wheelDelta/12;}else{if("detail" in H){J=K=-H.detail*3;}else{return;}}}if(I.options.wheelAction=="zoom"){m=I.scale*Math.pow(2,1/3*(K?K/Math.abs(K):0));if(m<I.options.zoomMin){m=I.options.zoomMin;}if(m>I.options.zoomMax){m=I.options.zoomMax;}if(m!=I.scale){if(!I.wheelZoomCount&&I.options.onZoomStart){I.options.onZoomStart.call(I,H);}I.wheelZoomCount++;I.zoom(H.pageX,H.pageY,m,400);setTimeout(function(){I.wheelZoomCount--;if(!I.wheelZoomCount&&I.options.onZoomEnd){I.options.onZoomEnd.call(I,H);}},400);}return;}F=I.x+J;G=I.y+K;if(F>0){F=0;}else{if(F<I.maxScrollX){F=I.maxScrollX;}}if(G>I.minScrollY){G=I.minScrollY;}else{if(G<I.maxScrollY){G=I.maxScrollY;}}if(I.maxScrollY<0){I.scrollTo(F,G,0);}},_transitionEnd:function(m){var F=this;if(m.target!=F.scroller){return;}F._unbind(C);F._startAni();},_startAni:function(){var K=this,H=K.x,I=K.y,G=Date.now(),J,F,m;if(K.animating){return;}if(!K.steps.length){K._resetPos(400);return;}J=K.steps.shift();if(J.x==H&&J.y==I){J.time=0;}K.animating=true;K.moved=true;if(K.options.useTransition){K._transitionTime(J.time);K._pos(J.x,J.y);K.animating=false;if(J.time){K._bind(C);}else{K._resetPos(0);}return;}m=function(){var N=Date.now(),L,M;if(N>=G+J.time){K._pos(J.x,J.y);K.animating=false;if(K.options.onAnimationEnd){K.options.onAnimationEnd.call(K);}K._startAni();return;}N=(N-G)/J.time-1;F=p.sqrt(1-N*N);L=(J.x-H)*F+H;M=(J.y-I)*F+I;K._pos(L,M);if(K.animating){K.aniTime=r(m);}};m();},_transitionTime:function(m){m+="ms";this.scroller.style[y]=m;if(this.hScrollbar){this.hScrollbarIndicator.style[y]=m;}if(this.vScrollbar){this.vScrollbarIndicator.style[y]=m;}},_momentum:function(F,N,H,G,L){var m=0.0006,M=p.abs(F)/N,I=(M*M)/(2*m),J=0,K=0;if(F>0&&I>H){K=L/(6/(I/M*m));H=H+K;M=M*H/I;I=H;}else{if(F<0&&I>G){K=L/(6/(I/M*m));G=G+K;M=M*G/I;I=G;}}I=I*(F<0?-1:1);J=M/m;return{dist:I,time:p.round(J)};},_offset:function(m){var F=-m.offsetLeft,G=-m.offsetTop;while(m=m.offsetParent){F-=m.offsetLeft;G-=m.offsetTop;}if(m!=this.wrapper){F*=this.scale;G*=this.scale;}return{left:F,top:G};},_snap:function(L,M){var J=this,m,F,G,K,H,I;G=J.pagesX.length-1;for(m=0,F=J.pagesX.length;m<F;m++){if(L>=J.pagesX[m]){G=m;break;}}if(G==J.currPageX&&G>0&&J.dirX<0){G--;}L=J.pagesX[G];H=p.abs(L-J.pagesX[J.currPageX]);H=H?p.abs(J.x-L)/H*500:0;J.currPageX=G;G=J.pagesY.length-1;for(m=0;m<G;m++){if(M>=J.pagesY[m]){G=m;break;}}if(G==J.currPageY&&G>0&&J.dirY<0){G--;}M=J.pagesY[G];I=p.abs(M-J.pagesY[J.currPageY]);I=I?p.abs(J.y-M)/I*500:0;J.currPageY=G;K=p.round(p.max(H,I))||200;return{x:L,y:M,time:K};},_bind:function(G,F,m){(F||this.scroller).addEventListener(G,this,!!m);},_unbind:function(G,F,m){(F||this.scroller).removeEventListener(G,this,!!m);},destroy:function(){var m=this;m.scroller.style[v]="";m.hScrollbar=false;m.vScrollbar=false;m._scrollbar("h");m._scrollbar("v");m._unbind(t,E);m._unbind(u);m._unbind(q,E);m._unbind(f,E);m._unbind(a,E);if(!m.options.hasTouch){m._unbind("DOMMouseScroll");m._unbind("mousewheel");}if(m.options.useTransition){m._unbind(C);}if(m.options.checkDOMChanges){clearInterval(m.checkDOMTime);}if(m.options.onDestroy){m.options.onDestroy.call(m);}},refresh:function(){var K=this,H,F,G,m,J=0,I=0;if(K.scale<K.options.zoomMin){K.scale=K.options.zoomMin;}K.wrapperW=K.wrapper.clientWidth||1;K.wrapperH=K.wrapper.clientHeight||1;K.minScrollY=-K.options.topOffset||0;K.scrollerW=p.round(K.scroller.offsetWidth*K.scale);K.scrollerH=p.round((K.scroller.offsetHeight+K.minScrollY)*K.scale);K.maxScrollX=K.wrapperW-K.scrollerW;K.maxScrollY=K.wrapperH-K.scrollerH+K.minScrollY;K.dirX=0;K.dirY=0;if(K.options.onRefresh){K.options.onRefresh.call(K);}K.hScroll=K.options.hScroll&&K.maxScrollX<0;K.vScroll=K.options.vScroll&&(!K.options.bounceLock&&!K.hScroll||K.scrollerH>K.wrapperH);K.hScrollbar=K.hScroll&&K.options.hScrollbar;K.vScrollbar=K.vScroll&&K.options.vScrollbar&&K.scrollerH>K.wrapperH;H=K._offset(K.wrapper);K.wrapperOffsetLeft=-H.left;K.wrapperOffsetTop=-H.top;if(typeof K.options.snap=="string"){K.pagesX=[];K.pagesY=[];m=K.scroller.querySelectorAll(K.options.snap);for(F=0,G=m.length;F<G;F++){J=K._offset(m[F]);J.left+=K.wrapperOffsetLeft;J.top+=K.wrapperOffsetTop;K.pagesX[F]=J.left<K.maxScrollX?K.maxScrollX:J.left*K.scale;K.pagesY[F]=J.top<K.maxScrollY?K.maxScrollY:J.top*K.scale;}}else{if(K.options.snap){K.pagesX=[];while(J>=K.maxScrollX){K.pagesX[I]=J;J=J-K.wrapperW;I++;}if(K.maxScrollX%K.wrapperW){K.pagesX[K.pagesX.length]=K.maxScrollX-K.pagesX[K.pagesX.length-1]+K.pagesX[K.pagesX.length-1];}J=0;I=0;K.pagesY=[];while(J>=K.maxScrollY){K.pagesY[I]=J;J=J-K.wrapperH;I++;}if(K.maxScrollY%K.wrapperH){K.pagesY[K.pagesY.length]=K.maxScrollY-K.pagesY[K.pagesY.length-1]+K.pagesY[K.pagesY.length-1];}}}K._scrollbar("h");K._scrollbar("v");if(!K.zoomed){K.scroller.style[y]="0";K._resetPos(400);}},scrollTo:function(K,L,J,G){var I=this,H=K,m,F;I.stop();if(!H.length){H=[{x:K,y:L,time:J,relative:G}];}for(m=0,F=H.length;m<F;m++){if(H[m].relative){H[m].x=I.x-H[m].x;H[m].y=I.y-H[m].y;}I.steps.push({x:H[m].x,y:H[m].y,time:H[m].time||0});}I._startAni();},scrollToElement:function(m,H){var G=this,F;m=m.nodeType?m:G.scroller.querySelector(m);if(!m){return;}F=G._offset(m);F.left+=G.wrapperOffsetLeft;F.top+=G.wrapperOffsetTop;F.left=F.left>0?0:F.left<G.maxScrollX?G.maxScrollX:F.left;F.top=F.top>G.minScrollY?G.minScrollY:F.top<G.maxScrollY?G.maxScrollY:F.top;H=H===undefined?p.max(p.abs(F.left)*2,p.abs(F.top)*2):H;G.scrollTo(F.left,F.top,H);},scrollToPage:function(m,F,H){var G=this,I,J;H=H===undefined?400:H;if(G.options.onScrollStart){G.options.onScrollStart.call(G);}if(G.options.snap){m=m=="next"?G.currPageX+1:m=="prev"?G.currPageX-1:m;F=F=="next"?G.currPageY+1:F=="prev"?G.currPageY-1:F;m=m<0?0:m>G.pagesX.length-1?G.pagesX.length-1:m;F=F<0?0:F>G.pagesY.length-1?G.pagesY.length-1:F;G.currPageX=m;G.currPageY=F;I=G.pagesX[m];J=G.pagesY[F];}else{I=-G.wrapperW*m;J=-G.wrapperH*F;if(I<G.maxScrollX){I=G.maxScrollX;}if(J<G.maxScrollY){J=G.maxScrollY;}}G.scrollTo(I,J,H);},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(q,E);this._unbind(f,E);this._unbind(a,E);},enable:function(){this.enabled=true;},stop:function(){if(this.options.useTransition){this._unbind(C);}else{b(this.aniTime);}this.steps=[];this.moved=false;this.animating=false;},zoom:function(I,J,F,H){var G=this,m=F/G.scale;if(!G.options.useTransform){return;}G.zoomed=true;H=H===undefined?200:H;I=I-G.wrapperOffsetLeft-G.x;J=J-G.wrapperOffsetTop-G.y;G.x=I-I*m+G.x;G.y=J-J*m+G.y;G.scale=F;G.refresh();G.x=G.x>0?0:G.x<G.maxScrollX?G.maxScrollX:G.x;G.y=G.y>G.minScrollY?G.minScrollY:G.y<G.maxScrollY?G.maxScrollY:G.y;G.scroller.style[y]=H+"ms";G.scroller.style[v]="translate("+G.x+"px,"+G.y+"px) scale("+F+")"+B;G.zoomed=false;},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating;}};function s(m){if(D===""){return m;}m=m.charAt(0).toUpperCase()+m.substr(1);return D+m;}e=null;if(typeof exports!=="undefined"){exports.iScroll=l;}else{E.iScroll=l;}})(window,document);