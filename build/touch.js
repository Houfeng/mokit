/*csd*/define(function(require,exports,module){"use strict";var a=require("mokit/event");var c=require("mokit/utils");var b=exports;b.option={swipe:{durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:45}};a.register("tap,swipe,swipeup,swiperight,swipedown,swipeleft",function(f,e,g){f.on("touchstart",function(h){var i=h.changedTouches[0]||{};f.startPoint=f.endPoint={x:i.pageX,y:i.pageY,timeStamp:h.timeStamp};f.moved=false;});f.on("touchmove",function(h){f.moved=true;});f.on("scroll",function(){return false;});var d=function(h){var l=h.changedTouches[0]||{};f.endPoint={x:l.pageX,y:l.pageY,timeStamp:h.timeStamp};if(!f.startPoint||!f.endPoint||!f.moved||(f.endPoint.timeStamp-f.startPoint.timeStamp>b.option.swipe.durationThreshold)){f.call("tap",h);}else{var i=f.endPoint.x-f.startPoint.x;var m=f.endPoint.y-f.startPoint.y;var j=Math.abs(i)>=Math.abs(m);var k=!j;if(j&&i>b.option.swipe.horizontalDistanceThreshold){h.direction="right";f.call("swipe",h);f.call("swiperight",h);}else{if(j&&i<-b.option.swipe.horizontalDistanceThreshold){h.direction="left";f.call("swipe",h);f.call("swipeleft",h);}else{if(k&&m>b.option.swipe.verticalDistanceThreshold){h.direction="down";f.call("swipe",h);f.call("swipedown",h);}else{if(k&&m<-b.option.swipe.verticalDistanceThreshold){h.direction="up";f.call("swipe",h);f.call("swipeup",h);}else{f.call("tap",h);}}}}}f.startPoint=f.endPoint=null;f.moved=false;};f.on("touchend",d);f.on("touchcancel",d);});});