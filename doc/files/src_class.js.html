<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/class.js - Mokit API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../logo.png" title="Mokit API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: v2.0 Beta 34</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Ajax.html">Ajax</a></li>
            
                <li><a href="../classes/App.html">App</a></li>
            
                <li><a href="../classes/Base64.html">Base64</a></li>
            
                <li><a href="../classes/Class.html">Class</a></li>
            
                <li><a href="../classes/Console.html">Console</a></li>
            
                <li><a href="../classes/Context.html">Context</a></li>
            
                <li><a href="../classes/Controller.html">Controller</a></li>
            
                <li><a href="../classes/Event.html">Event</a></li>
            
                <li><a href="../classes/Grid.html">Grid</a></li>
            
                <li><a href="../classes/Json.html">Json</a></li>
            
                <li><a href="../classes/Language.html">Language</a></li>
            
                <li><a href="../classes/Mask.html">Mask</a></li>
            
                <li><a href="../classes/Model.html">Model</a></li>
            
                <li><a href="../classes/Move.html">Move</a></li>
            
                <li><a href="../classes/Navigation.html">Navigation</a></li>
            
                <li><a href="../classes/Route.html">Route</a></li>
            
                <li><a href="../classes/Sortable.html">Sortable</a></li>
            
                <li><a href="../classes/Store.html">Store</a></li>
            
                <li><a href="../classes/Style.html">Style</a></li>
            
                <li><a href="../classes/Task.html">Task</a></li>
            
                <li><a href="../classes/Utils.html">Utils</a></li>
            
                <li><a href="../classes/View.html">View</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/mokit.html">mokit</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/class.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * 类型工厂，用来创建一个类型（class）,类似是java中的class关键字。
 * @class Class
 * @module mokit
 */
(function(owner) {
    &quot;require:nomunge,exports:nomunge,module:nomunge&quot;;
    &quot;use strict&quot;;

    var utils = null;

    /**
     * 复制对象
     */
    var copyApply = function(src, tag, scope) {
        tag = tag || {};
        utils.each(src, function(name) {
            if (utils.isFunction(src[name])) {
                tag[name] = function() {
                    return src[name].apply(scope || this, arguments);
                };
            } else {
                tag[name] = src[name];
            }
        });
        return tag;
    };

    var rootClass = function() {};

    /**
     * 定义一个class(类)
     * @method create
     * @param {Class} _base 基类（可以省略）
     * @param {Object} _class 类型声明（可以省略，省略_class时,_base就是“类型声明”）
     */
    owner.create = function(_base, _class) {
        if (!_class) {
            _class = _base;
            _base = null;
        };
        _base = _base || rootClass;
        _class = _class || {};
        var _baseInstanse = utils.isFunction(_base) ? new _base() : _base;
        var _classInstanse = utils.isFunction(_class) ? new _class() : _class;
        //创建类型
        var theClass = function() {
            if (this.initialize) {
                return this.initialize.apply(this, arguments);
            }
        };
        //处理父子关系，通过prototype将父类成员添加到原型，可以使typeof instanseOf有效;
        theClass.base = _base;
        theClass.prototype = _baseInstanse;
        theClass.prototype.base = copyApply(utils.clone(_baseInstanse), {}, theClass.prototype); //clone一份父类的成员；;
        //定义实例扩展函数
        theClass.extend = function(context) {
            return copyApply(context, this.prototype);
        };
        theClass.copy = function(context) {
            return copyApply(context, this);
        };
        //将类成员及静态添加添加到实例
        theClass.extend(_classInstanse);
        if (utils.isFunction(_base)) {
            theClass.copy(_base);
        };
        if (utils.isFunction(_class)) {
            theClass.copy(_class);
        };
        //返回创建好的类型
        return theClass;
    };

    //兼容AMD模块
    if (typeof define === &#x27;function&#x27; &amp;&amp; define.amd) {
        define(&#x27;$class&#x27;, &#x27;utils&#x27;, function($utils) {
            utils = $utils;
            return owner;
        });
    } else {
        utils = $utils;
    }

})((typeof exports === &#x27;undefined&#x27;) ? (window.$class = {}) : exports);
//
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
